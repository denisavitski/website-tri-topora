---
import Header from '@blocks/Header.astro'
import Footer from '@blocks/Footer.astro'

import Head from './Head.astro'
import FormAnswer from '@blocks/FormAnswer.astro'
import Scrollbar from '@elements/Scrollbar.astro'

export interface Props {
  header?: boolean
  headerBlackAndWhite?: boolean
  footer?: boolean
  cookies?: boolean
  formResultModal?: boolean
  ctaModal?: boolean
  partnerModal?: boolean
}

const { header = true, footer = true } = Astro.props
---

<html lang="ru">
  <Head />

  <body>
    <div class="page">
      {header && <Header />}

      <FormAnswer />

      <div class="scroll">
        <Scrollbar />

        <main>
          <slot />
        </main>

        {footer && <Footer />}
      </div>
    </div>
  </body>
</html>

<style is:global>
  .page {
    width: 100%;
    height: 100%;
    overflow: hidden;

    opacity: 0;
    pointer-events: none;

    .page-loaded & {
      opacity: 1;
      transition: opacity 1.5s;
      pointer-events: auto;
    }
  }

  .scroll {
    width: 100%;
    height: 100%;

    padding-top: var(--header-height);

    overflow: hidden auto;

    -ms-overflow-style: none;
    scrollbar-width: none;

    .dragging & {
      overflow: hidden;
    }
  }

  .scroll::-webkit-scrollbar {
    display: none;
  }
</style>

<script>
  import '@globals/main.ts'
</script>
