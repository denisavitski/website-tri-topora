---
import { omit } from 'aptechka/utils'

export interface Props {
  class?: string
  text?: string
}

const { class: className, text = '', ...rest } = Astro.props
---

<div
  {...omit(rest, ['slot'] as any)}
  class:list={['rich-text', className]}
  set:html={text}
/>

<style is:global>
  .rich-text {
    display: flex;
    flex-direction: column;

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-family: 'Code', sans-serif;
      text-transform: uppercase;
      font-weight: 400;
      line-height: 120%;

      white-space: pre-wrap;
    }

    h1,
    h2 {
      font-size: 4.8rem;

      @media (max-width: 768px) {
        font-size: 2.8rem;
      }
    }

    h3 {
      font-size: 2.4rem;

      @media (max-width: 768px) {
        font-size: 1.6rem;
      }
    }

    h4,
    h5,
    h6 {
      font-size: 2.2rem;

      @media (max-width: 768px) {
        font-size: 1.6rem;
      }
    }

    h3,
    h4,
    h5,
    h6 {
      text-indent: 7.5rem;

      @media (max-width: 768px) {
        text-indent: 5rem;
      }
    }

    h1,
    h2 {
      margin-bottom: 2.4rem;
    }

    h3,
    h4 {
      margin-bottom: 4rem;

      @media (max-width: 768px) {
        margin-bottom: 2.4rem;
      }
    }

    h5,
    h6 {
      margin-bottom: 2.4rem;
    }

    p {
      font-size: 2.2rem;
      font-weight: 300;
      line-height: 120%;
      margin-bottom: 1.6rem;

      white-space: pre-wrap;

      @media (max-width: 768px) {
        font-size: 1.6rem;
      }
    }

    ul,
    ol {
      list-style: none;

      display: grid;
      grid-auto-rows: max-content;
      gap: 1.6rem;

      margin-bottom: 1.6rem;
    }

    li {
      font-size: 2.2rem;
      font-weight: 300;

      white-space: pre-wrap;

      display: inline-flex;

      &::before {
        content: '';

        flex-shrink: 0;

        width: 0.6rem;
        height: 0.6rem;

        margin-right: 2.2rem;
        margin-top: 0.5em;

        border-radius: 50%;

        background-color: var(--color-white-1);

        @media (max-width: 768px) {
          width: 0.4rem;
          height: 0.4rem;

          margin-right: 1.6rem;
          margin-left: 0.8rem;
          margin-top: 0.5em;
        }
      }

      @media (max-width: 768px) {
        font-size: 1.6rem;
        line-height: normal;
      }
    }

    b {
      font-weight: 600;
    }

    a {
      text-decoration: underline;
      text-decoration-skip-ink: none;
    }

    img {
      max-width: 100%;
    }
  }
</style>
